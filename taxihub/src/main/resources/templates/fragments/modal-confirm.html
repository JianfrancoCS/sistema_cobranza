<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="simple"
     class="modal fade" id="confirmModal" tabindex="-1"
     aria-labelledby="confirmModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmModalLabel">
                    <i class="bi bi-exclamation-triangle me-2 text-warning"></i>
                    <span>Confirmar Acción</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>¿Está seguro que desea realizar esta acción?</p>
                <small class="text-muted">Esta acción no se puede deshacer.</small>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg me-1"></i>Cancelar
                </button>
                <form id="confirmForm" method="post" style="display: inline;">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-check-lg me-1"></i>Confirmar
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<div th:fragment="confirm(modalId, title, message, action, danger)"
     class="modal fade" th:id="${modalId}" tabindex="-1"
     th:aria-labelledby="${modalId + 'Label'}" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" th:id="${modalId + 'Label'}">
                    <i class="bi bi-exclamation-triangle me-2"
                       th:classappend="${danger} ? 'text-danger' : 'text-warning'"></i>
                    <span th:text="${title}">Confirmar Acción</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p th:utext="${message}">¿Está seguro que desea realizar esta acción?</p>
                <small class="text-muted" th:if="${danger}">Esta acción no se puede deshacer.</small>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-lg me-1"></i>Cancelar
                </button>
                <form th:id="${modalId + 'Form'}" method="post" style="display: inline;" th:action="${action}">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button type="submit" class="btn"
                            th:classappend="${danger} ? 'btn-danger' : 'btn-primary'">
                        <i class="bi me-1" th:classappend="${danger} ? 'bi-trash' : 'bi-check-lg'"></i>
                        <span th:text="${danger} ? 'Eliminar' : 'Confirmar'">Confirmar</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

</html>